---
phase: 03-editor-ui
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified: [utilities/src/main/java/utilities/loadout/ui/EquipmentGrid.java, utilities/src/main/java/utilities/loadout/ui/InventoryGrid.java]
autonomous: true
---

<objective>
Create main container grids: EquipmentGrid (14 slots in OSRS layout) and InventoryGrid (28 slots in 7x4 grid).

Purpose: These display the equipment and inventory portions of a loadout, using ItemSlot components.
Output: Two grid components that can be populated from Loadout data.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan outputs
@.planning/phases/03-editor-ui/03-01-SUMMARY.md

# Source files
@utilities/src/main/java/utilities/loadout/Loadout.java
@utilities/src/main/java/utilities/loadout/ui/ItemSlot.java
@utilities/src/main/java/utilities/loadout/ui/ItemSearch.java
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create EquipmentGrid component</name>
  <files>utilities/src/main/java/utilities/loadout/ui/EquipmentGrid.java</files>
  <action>
Create a JavaFX component displaying the 14 equipment slots in OSRS layout.

Layout (matches OSRS equipment screen):
```
        [Head]
[Cape]  [Amulet] [Ammo]
       [Weapon]
        [Body]  [Shield]
        [Legs]
[Gloves]        [Boots]
        [Ring]
```

Use absolute positioning with Pane (not GridPane) to match OSRS layout exactly.

Features:
- Extends javafx.scene.layout.Pane
- 14 ItemSlot instances positioned to match OSRS equipment screen
- Labels for each slot (small gray text below slot): "Head", "Cape", etc.
- setLoadout(Loadout loadout, ScriptCore core) method to populate all slots
- Consumer<Integer> onSlotClick callback (passes slot index 0-13, use Loadout.SLOT_* constants)
- When slot clicked, show ItemSearch popup and update loadout on selection
- Store reference to Loadout being edited

Slot positions (approximate, based on 36x36 slots with gaps):
- Head: x=70, y=0
- Cape: x=0, y=40
- Amulet: x=70, y=40
- Ammo: x=140, y=40
- Weapon: x=0, y=90
- Body: x=70, y=90
- Shield: x=140, y=90
- Legs: x=70, y=140
- Gloves: x=0, y=190
- Boots: x=140, y=190
- Ring: x=70, y=190

Total size approximately 180x230 pixels.
Match ocean theme styling.
  </action>
  <verify>gradle :utilities:build compiles without errors</verify>
  <done>EquipmentGrid.java exists with 14 positioned slots matching OSRS layout</done>
</task>

<task type="auto">
  <name>Task 2: Create InventoryGrid component</name>
  <files>utilities/src/main/java/utilities/loadout/ui/InventoryGrid.java</files>
  <action>
Create a JavaFX component displaying the 28 inventory slots in a 7-column, 4-row grid.

Features:
- Extends javafx.scene.layout.GridPane
- 28 ItemSlot instances in 7 columns x 4 rows
- 2px gap between slots (setHgap/setVgap)
- setLoadout(Loadout loadout, ScriptCore core) method to populate all slots
- Consumer<Integer> onSlotClick callback (passes slot index 0-27)
- When slot clicked, show ItemSearch popup and update loadout on selection
- Store reference to Loadout being edited

Grid layout: slots numbered left-to-right, top-to-bottom
Row 0: slots 0-6
Row 1: slots 7-13
Row 2: slots 14-20
Row 3: slots 21-27

Total size approximately 270x154 pixels (7*36 + 6*2 gap, 4*36 + 3*2 gap).
Match ocean theme styling.
  </action>
  <verify>gradle :utilities:build compiles without errors</verify>
  <done>InventoryGrid.java exists with 28 slots in 7x4 grid</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd tidals-scripts && JAVA_HOME=$(/usr/libexec/java_home -v 17) gradle :utilities:build` succeeds
- [ ] Both files exist in utilities/src/main/java/utilities/loadout/ui/
- [ ] No compile errors or warnings
</verification>

<success_criteria>
- All tasks completed
- EquipmentGrid shows 14 slots in OSRS layout
- InventoryGrid shows 28 slots in 7x4 grid
- Both grids handle slot clicks and item selection
</success_criteria>

<output>
After completion, create `.planning/phases/03-editor-ui/03-02-SUMMARY.md`
</output>
